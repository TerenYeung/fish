# 标题

## 前言

你苦战通宵的时候，布里斯班的灯鱼早已划过珊瑚丛；

你赶现场招聘会的时候，蒙巴萨的小榭刚刚流出渔夫的掌心；

你写程序代码的时候，布拉格的列车正晃过金色的夕阳；

有人曾说：“人生至少有两次冲动，一次是为了奋不顾生的爱情，还有一次就是为了说走就走的旅行”。

爱情往往可遇不可求，但是旅行却是可以说走就走。

又有人说：“我是不是走错频道，来到了文学专区”。没错，说的就是你。

我只想说一句，请别捉急，且听小羊娓娓道来。

## 功能介绍

临近国庆，小羊积攒了 10 天的假期。

可以在人生的种种事务中脱离出来，趴在车窗外看沿途的风光，倾听内心的音乐。

笔者希望有一款专为我私人定制的小程序，在旅行路上陪我欢笑陪我闹。

它的功能不需要它太多但能贴切我的实际需要。

它的长相不求惊天动地但能合我眼缘。

思来想去，小羊发现市面上的小程序没有一款契合我的需求，于是小羊为自己开发了一款专属的小程序。



## 数据表管理

**1. 数据获取与录入**

### sites 数据表

  字段 | 类型 | 实例
  ---| --- | ---
  id | id | 59cb1def09a8055626658340
  name | string | 大理古城
  type | string | 风景名胜;风景名胜;国家级景点
  typecode | string | 110202	
  address | string | 一塔路42号	
  location | string | 100.165937,25.694973	
  location_geo | geo | {"coordinates":[100.16593960808058,25.694973636880942],"type":"Point"}
  pname | string | 云南省
  cityname | string | 大理白族自治州
  tel | string | 0872-2504361	
  photos | string | '[{"title":"大理古城","url":"http://store.is.autonavi.com/showpic/386123df93c6d1ede6aec843e239ce8b"}]'

### 数据清洗

- GeoJSON 数据格式

知晓云 GeoJSON 要求的数据格式

```
{"coordinates":[100.19226532543676,25.901452850308967], "type":"Point"}
```

脚本写入的 GeoJSON 数据格式

```
{""coordinates"":[""100.132336"",""25.659082""],""type"":""Point""}
```

GeoJSON 数据清洗

```

"","" 替换为 ,

["" 替换为 [

""] 替换为 ]

```

- 复杂数组 数据格式

photos 字段的数据格式如下，如果直接在数据表将 photos 声明为 array，会出现字段无法导入问题，所以这里建议将 复杂数组的数据格式定义为 string，在小程序端进行格式转换。

```
[{""title"":[],""url"":""http://store.is.autonavi.com/showpic/4e7dc163381dd4bdfb06b3fa9f5d61c2""}]
```

## 开发

## 后记